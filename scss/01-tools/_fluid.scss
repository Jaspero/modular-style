@import "../variables";

/*------------------------------------*\
  # FLUID
\*------------------------------------*/

/**
 * Based on fluid typography. Source:
 * https://css-tricks.com/snippets/css/fluid-typography/
 *
 * A mixin that takes a passed css property and scales it fluidly.
 * Supports only pixel values.
 *
 * 1. Passed property won't scale down below this screen size.
 * 2. Passed property won't scale up above this screen size.
 *
 */

$bottom-resize-limit: $screen-xs; /* [1] */
$top-resize-limit   : $screen-s; /* [2] */

// Helper function
@function strip-unit($value) {
  @return $value / ($value * 0 + 1);
}

@mixin fluid($max, $min, $prop) {
  & {
    #{$prop}: $min;
    @media screen and (min-width: $bottom-resize-limit) {
      #{$prop}: calc(#{$min} + #{strip-unit($max - $min)} * ((100vw - #{$bottom-resize-limit}) / #{strip-unit($top-resize-limit - $bottom-resize-limit)}));
    }
    @media screen and (min-width: $top-resize-limit) {
      #{$prop}: $max;
    }
  }
}

/**
 * Example of use:
 *
 * Paragraph font size will fluently scale from 18px on large screens to 14px
 * on smaller screens:
 *
 * p {
 *   @include fluid(18px, 14px, font-size);
 * }
 *
 */