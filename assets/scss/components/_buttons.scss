/*==================================================

  Buttons

==================================================*/

@mixin buttons($theme) {

  $primary: map-get($theme, primary);
  $accent: map-get($theme, accent);
  $warn: map-get($theme, warn);
  $foreground: map-get($theme, foreground);
  $background: map-get($theme, background);

  /*
  button {
    background: $warn;
    color: map_get($background, bla);
  }
  */

  /*
   * Shared style
   */

  %button-shared {
    display             : inline-block;
    cursor              : pointer;
    overflow            : hidden;
    position            : relative;
    outline             : none;
    border-radius       : .3rem;
    user-select         : none;
    -webkit-user-select : none;
    transform           : translate3d(0,0,0);
    transition          : .2s;

    span, svg, img {
      vertical-align: middle;
    }

  }


  /*
   * Default button
   */

  .btn {
    @extend %button-shared;
    padding   : 1rem 2.5rem;
    border    : none;
    box-shadow: 0 3px 1px -2px rgba(0,0,0,.2), 0 2px 2px 0 rgba(0,0,0,.14), 0 1px 5px 0 rgba(0,0,0,.12);
    color     : contrast($accent);
    fill      : contrast($accent);
    background: $accent;

    &:hover, &:focus {
      background: darken($accent, 10%);
    }

    &:active {
      box-shadow: 0 5px 5px -3px rgba(0,0,0,.2),0 8px 10px 1px rgba(0,0,0,.14),0 3px 14px 2px rgba(0,0,0,.12);
    }

    @extend %ripple;
    @extend %loading;
    @extend %disabled;

  }





  /*
   * Disabled
   */

  %disabled {

    &:disabled {
      pointer-events: none;
      border        : none;
      box-shadow    : none;
      color         : #aaa;
      fill          : #aaa;
      background    : #eee;
    }

  }


  /*
   * Ripple
   */

  %ripple {

    &:before {
      content             : "";
      opacity             : 0;
      pointer-events      : none;
      position            : absolute;
      top                 : 0;
      left                : 0;
      width               : 100%;
      height              : 100%;
      background-image    : radial-gradient(circle, contrast-ripple($accent) 10%, transparent 10.01%);
      background-repeat   : no-repeat;
      background-position : 50%;
      transform           : scale(10, 10);
      transition          : transform .5s, opacity 1s;
    }

    &:active:before {
      opacity   : .3;
      transform : scale(0, 0);
      transition: 0s;
    }

  }


  /*
   * Button states (loading, error)
   */

  %loading {

    &.loading {
      pointer-events: none;
      position      : relative;
      border        : none;
      color         : transparent;
      background    : $accent;

      span, svg, img {
        opacity: 0;
      }

      &:after {
        content       : '';
        position      : absolute;
        top           : 50%;
        left          : 50%;
        height        : 1.8rem;
        width         : 1.8rem;
        border-radius : 50%;
        border-width  : .2rem;
        border-style  : solid;
        border-color  : contrast($accent) contrast($accent) transparent transparent;
        animation     : loading-animation .75s linear infinite;

        @keyframes loading-animation {
          0%   { transform: translate(-50%,-50%) rotate(0deg); }
          100% { transform: translate(-50%,-50%) rotate(360deg); }
        }

      }

    }

  }

}


/*

.btn-outline {
  @extend %button-shared;
  padding   : 1rem 2.5rem;
  border    : .1rem solid $accent;
  color     : $accent;
  background: transparent;

  &:hover, &:focus {
    background: fade-out($accent, .8);
  }

  &:active {}

  @extend %ripple;
  @extend %button-states;
  @extend %disabled;

}

.btn-ghost {
  @extend %button-shared;
  padding   : 1rem 2.5rem;
  border    : none;
  background: transparent;
  color     : map_get($foreground, base);
  fill      : map_get($foreground, base);

  &:hover, &:focus {
    background: fade-out($accent, .9);
  }

  &:active {
    background: fade-out($accent, .8);
  }

  @extend %ripple;
  @extend %button-states;
  @extend %disabled;

}

.btn-icon {}

.btn-contain {}

*/