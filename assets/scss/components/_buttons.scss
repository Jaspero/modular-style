/*==================================================

  Buttons

==================================================*/

@mixin button-theme {


  /*
   * Shared style
   */

  %button-shared {
    display             : inline-block;
    cursor              : pointer;
    overflow            : hidden;
    position            : relative;
    outline             : none;
    border-radius       : .3rem;
    user-select         : none;
    -webkit-user-select : none;
    font-size           : 1.4rem;
    transform           : translate3d(0,0,0);
    transition          : .2s;

    span, svg, img {
      vertical-align: middle;
    }

  }


  /*
   * Default button
   */

  .btn {
    @extend %button-shared;
    padding   : 1rem 2.5rem;
    border    : none;
    box-shadow: 0 3px 1px -2px rgba(0,0,0,.2), 0 2px 2px 0 rgba(0,0,0,.14), 0 1px 5px 0 rgba(0,0,0,.12);
    color     : contrast($accent);
    fill      : contrast($accent);
    background: $accent;

    &:hover, &:focus {
      background: darken($accent, 10%);
    }

    &:active {
      box-shadow: 0 5px 5px -3px rgba(0,0,0,.2),0 8px 10px 1px rgba(0,0,0,.14),0 3px 14px 2px rgba(0,0,0,.12);
    }

    @extend %ripple;
    @extend %button-states;
    @extend %disabled;

  }


  /*
   * Outline button
   */

  .btn-outline {
    @extend %button-shared;
    padding   : 1rem 2.5rem;
    border    : .1rem solid $accent;
    color     : $accent;
    background: transparent;

    &:hover, &:focus {
      background: fade-out($accent, .8);
    }

    &:active {}

    @extend %ripple;
    @extend %button-states;
    @extend %disabled;

  }


  /*
   * Outline button
   */

  .btn-ghost {
    @extend %button-shared;
    padding   : 1rem 2.5rem;
    border    : none;
    background: transparent;
    color     : if(map-get($theme, dark), rgb(255,255,255), rgba(0,0,0,.9));
    fill      : if(map-get($theme, dark), rgb(255,255,255), rgba(0,0,0,.9));

    &:hover, &:focus {
      background: #ddd;
    }

    &:active {
      background: #ccc;
    }

    @extend %ripple;
    @extend %button-states;
    @extend %disabled;

  }


  /*
   * Disabled
   */

  %disabled {

    &:disabled {
      pointer-events: none;
      border        : none;
      box-shadow    : none;
      color         : #aaa;
      fill          : #aaa;
      background    : #eee;
    }

  }


  /*
   * Ripple
   */

  %ripple {

    &:before {
      content             : "";
      opacity             : 0;
      pointer-events      : none;
      position            : absolute;
      top                 : 0;
      left                : 0;
      width               : 100%;
      height              : 100%;
      background-image    : radial-gradient(circle, #fff 10%, transparent 10.01%);
      background-repeat   : no-repeat;
      background-position : 50%;
      transform           : scale(10, 10);
      transition          : transform .5s, opacity 1s;
    }

    &:active:before {
      opacity   : .3;
      transform : scale(0, 0);
      transition: 0s;
    }

  }


  /*
   * Button states (loading, error)
   */

  %button-states {

    &.loading, &.error {
      pointer-events: none;
      position      : relative;
      border        : none;
      color         : transparent;

      span, svg, img {
        opacity: 0;
      }

    }

    &.loading {
      background: $accent;

      &:after {
        content       : '';
        position      : absolute;
        top           : 50%;
        left          : 50%;
        height        : 1.8rem;
        width         : 1.8rem;
        border-radius : 50%;
        border-width  : .2rem;
        border-style  : solid;
        border-color  : contrast($accent) contrast($accent) transparent transparent;
        animation     : loading-animation .75s linear infinite;

        @keyframes loading-animation {
          0%   { transform: translate(-50%,-50%) rotate(0deg); }
          100% { transform: translate(-50%,-50%) rotate(360deg); }
        }

      }

    }

    &.error {
      background: $warn;

      &:after {
        content   : 'Error';
        position  : absolute;
        top       : 50%;
        left      : 50%;
        color     : white;
        transform : translate(-50%,-50%);
      }

    }

  }

}

/*


.btn-ghost {
  @extend %button-shared;
  padding   : 1rem 2rem;
  border    : none;
  background: transparent;
  font-size : 1.4rem;
  color     : black;
  fill      : black;

  &:hover, &:focus {
    background: #eee;
  }

  &:active {
    background: #ddd;
  }

  &:disabled {
    cursor    : not-allowed;
    box-shadow: none;
    color     : #aaa;
    fill      : #aaa;
    background: #eee;
  }

  @extend %button-states;
}

.btn-contain {
  @extend %button-shared;
  padding   : .8rem;
  border    : none;
  font-size : inherit;
  background: transparent;
}



*/